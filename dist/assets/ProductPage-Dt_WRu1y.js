import{_ as N}from"./Loading.vue_vue_type_style_index_0_lang-CYBVqjuH.js";import{d as E,f as b,H as I,r as f,j as k,o as n,c as u,C as w,O as C,q as t,F as A,m as L,t as a,u as i,k as _,x as Z,J as y,l as z,s as D,b as Q,P as W}from"./index-CaZDOrTY.js";import{a as G,u as M}from"./useWishList-B8ZYM1A2.js";const U="data:image/gif;base64,R0lGODlhKAAkAIAAAP///wAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OERDRTZEMEVBRDMwMTFFQUE5QzZFRUEzMkZCMEQwRUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OERDRTZEMEZBRDMwMTFFQUE5QzZFRUEzMkZCMEQwRUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4RENFNkQwQ0FEMzAxMUVBQTlDNkVFQTMyRkIwRDBFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4RENFNkQwREFEMzAxMUVBQTlDNkVFQTMyRkIwRDBFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAAALAAAAAAoACQAAAIlhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jedNAQA7",B={class:"productPage_actionBlock"},S=["value"],T=E({__name:"ActionBtn",props:{id:String},setup(P){const c=P,{wishList:e,addToWishList:p,removeWishList:m}=G(),o=b(()=>e.value.includes(c.id)),r=b(()=>o.value?["fas","heart"]:["far","heart"]),{addToCart:g,useCartLoading:h}=I(),s=f(1);return(v,d)=>{const R=k("font-awesome-icon");return n(),u("div",B,[w(t("select",{"onUpdate:modelValue":d[0]||(d[0]=l=>s.value=l)},[(n(),u(A,null,L(10,l=>t("option",{key:l,value:l},a(v.$t("productPage.select",{value:l})),9,S)),64))],512),[[C,s.value]]),t("div",null,[t("button",{type:"button",class:"btn btn-danger btn-outline",onClick:d[1]||(d[1]=l=>o.value?i(m)(`${c.id}`):i(p)(`${c.id}`))},[_(R,{icon:r.value},null,8,["icon"]),Z(" "+a(v.$t("productPage.addToWishList")),1)]),t("button",{type:"button",class:"btn btn-success btn-outline",onClick:d[2]||(d[2]=l=>i(g)({qty:s.value,product_id:`${c.id}`,mode:"add"}))},[i(h)?(n(),y(R,{key:0,icon:["fas","spinner"],"spin-pulse":""})):(n(),y(R,{key:1,icon:["fas","basket-shopping"]})),Z(" "+a(v.$t("productPage.addToCart")),1)])])])}}}),F={class:"container productPage"},V={class:"productPage_info"},j=["src"],H={class:"productPage_info_main"},J={class:"productPage_info_title"},$={class:"productPage_info_content"},O={class:"productPage_price"},Y={class:"price-origin"},X={class:"price-special"},x={class:"productPage_title"},q=["innerHTML"],K={class:"productPage_title"},tt={class:"productPage_similarList"},et=t("img",{src:U},null,-1),ot=E({__name:"Index",setup(P){const{productList:c,productPageData:e,getProduct:p}=M(),m=b(()=>c.value.filter(o=>{var r;return o.category===((r=e.value)==null?void 0:r.category)&&o.id!==e.value.id}));return(o,r)=>{const g=k("font-awesome-icon"),h=k("router-link");return n(),u("div",F,[t("div",V,[t("img",{src:i(e).imageUrl},null,8,j),t("div",H,[t("div",J,a(i(e).title),1),t("div",$,[t("div",null,a(i(e).description),1),t("div",null,a(i(e).content),1)]),t("div",O,[t("div",Y,a(o.$t("common.originalPrice",{price:i(e).origin_price})),1),t("div",X,a(o.$t("common.specialPrice",{price:i(e).price})),1)]),_(T,{id:i(e).id},null,8,["id"])])]),t("div",x,[t("span",null,a(o.$t("productPage.qa")),1)]),(n(),u(A,null,L(3,s=>t("div",{key:s,class:"productPage_qa"},[_(g,{icon:["far","question-circle"]}),t("div",{innerHTML:o.$t(`productPage.qa-${s}`)},null,8,q)])),64)),t("div",K,[t("span",null,a(o.$t("productPage.similar")),1)]),t("div",tt,[(n(!0),u(A,null,L(m.value,s=>(n(),y(h,{key:s.id,to:{name:"productPage",params:{id:s.id}},onClick:v=>i(p)(s.id)},{default:z(()=>[t("div",{style:D(`background-image: url(${s.imageUrl})`),class:"productPage_similarList_img"},[et,t("div",null,a(s.title),1)],4)]),_:2},1032,["to","onClick"]))),128))])])}}}),nt=E({__name:"ProductPage",setup(P){const c=W(),{productPageLoading:e,getProduct:p,getProductList:m}=M(),{getCart:o}=I();return Q(async()=>{await p(`${c.params.id}`),await o(),await m()}),(r,g)=>(n(),u(A,null,[_(N,{loading:i(e),"full-page":""},null,8,["loading"]),_(ot)],64))}});export{nt as default};
