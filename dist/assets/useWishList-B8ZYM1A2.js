import{a0 as w,r as i,v as y,f as h,Y as p,a1 as P,a2 as L,a3 as T}from"./index-CaZDOrTY.js";const N=w(()=>{const a=i(!0),s=i([]),d=async()=>{var t;a.value=!0;const e=await p("get","products/all");e.success&&((t=e.products)!=null&&t.length)&&(s.value=e.products),a.value=!1},{t:c}=y(),o=i(0),g=h(()=>{const e=[{text:c("productList.all"),active:!1}];return s.value.length&&(s.value.forEach(t=>{e.findIndex(r=>r.text===t.category)===-1&&e.push({text:t.category,active:!1})}),e[o.value].active=!0),e}),m=e=>{o.value=e,f(!0)},u=i("inactive"),f=e=>{if(e){u.value="inactive";return}u.value=u.value==="inactive"||u.value==="highToLow"?"lowToHigh":"highToLow"},l=i(""),x=h(()=>{let e=o.value?s.value.filter(t=>t.category===g.value[o.value].text):s.value;return l.value!==""&&(e=e.filter(t=>t.title.includes(l.value))),u.value==="lowToHigh"?e=L(e,(t,r)=>Number(t.price)-Number(r.price)).value:u.value==="highToLow"&&(e=L(e,(t,r)=>Number(r.price)-Number(t.price)).value),e}),n=i(!0),v=i({});return{loading:a,productList:s,getProductList:d,category:g,clickCategory:m,keyword:l,sortPrice:u,changeSortPrice:f,filterProductList:x,productPageLoading:n,getProduct:async e=>{n.value=!0;const{success:t,product:r}=await p("get",`/product/${e}`);t&&(v.value=r,P(`${v.value.title}`)),n.value=!1},productPageData:v}}),W=w(()=>{const a=T("wishList",JSON.parse(localStorage.wishList)||[]);return{wishList:a,addToWishList:c=>{a.value.push(c)},removeWishList:c=>{const o=a.value.indexOf(c);o>=0&&a.value.splice(o,1)}}});export{W as a,N as u};
