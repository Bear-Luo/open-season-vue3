import{a4 as m,r as c,v as y,f as h,a1 as p,a5 as P,a6 as L,a7 as T}from"./index-BamSWWtl.js";const W=m(()=>{const a=c(!0),s=c([]),d=async()=>{var t;a.value=!0;const e=await p("get","products/all");e.success&&((t=e.products)!=null&&t.length)&&(s.value=e.products),a.value=!1},{t:i}=y(),u=c(0),g=h(()=>{const e=[{text:i("productList.all"),active:!1}];return s.value.length&&(s.value.forEach(t=>{e.findIndex(r=>r.text===t.category)===-1&&e.push({text:t.category,active:!1})}),e[u.value].active=!0),e}),w=e=>{u.value=e,f(!0)},o=c("inactive"),f=e=>{if(e){o.value="inactive";return}o.value=o.value==="inactive"||o.value==="highToLow"?"lowToHigh":"highToLow"},l=c(""),x=h(()=>{let e=u.value?s.value.filter(t=>t.category===g.value[u.value].text):s.value;return l.value!==""&&(e=e.filter(t=>t.title.includes(l.value))),o.value==="lowToHigh"?e=L(e,(t,r)=>Number(t.price)-Number(r.price)).value:o.value==="highToLow"&&(e=L(e,(t,r)=>Number(r.price)-Number(t.price)).value),e}),n=c(!0),v=c({});return{loading:a,productList:s,getProductList:d,category:g,clickCategory:w,keyword:l,sortPrice:o,changeSortPrice:f,filterProductList:x,productPageLoading:n,getProduct:async e=>{n.value=!0;const{success:t,product:r}=await p("get",`/product/${e}`);t&&(v.value=r,P(`${v.value.title}`)),n.value=!1},productPageData:v}}),N=m(()=>{const a=T("wishList",[],localStorage,{mergeDefaults:!0});return{wishList:a,addToWishList:i=>{a.value.push(i)},removeWishList:i=>{const u=a.value.indexOf(i);u>=0&&a.value.splice(u,1)}}});export{N as a,W as u};
