import{_ as V}from"./Loading.vue_vue_type_style_index_0_lang-C59pOsMH.js";import{u as b,a as W}from"./useWishList-CgmIZ_CT.js";import{a as q,b as z}from"./index-Dr1UnRI8.js";import{d as g,c as h,b as i,e as d,h as r,F as y,f as C,P as L,a as c,O as m,$ as x,r as B,J as P,B as p,a1 as M,Q as w,n as A,K as D,N as T,L as S,a2 as H,A as F,M as I,k as K,R}from"./@vee-validate-CHlFrRps.js";const E=["onClick"],J=g({__name:"Sidebar",setup(_){const{category:e,clickCategory:n}=b(),{isMobileWidth:u}=q(),l=h(()=>u.value?"productList_sidebar--mb":"productList_sidebar--pc");return(t,s)=>(i(),d("div",{class:L({productList_sidebar_container:c(u)})},[r("ul",{class:L(l.value)},[(i(!0),d(y,null,C(c(e),(o,v)=>(i(),d("li",{key:v,class:L({active:o.active}),onClick:a=>c(n)(v)},m(o.text),11,E))),128))],2)],2))}}),O={class:"productList_actionBtn"},Q=["disabled"],j=g({__name:"ActionBtn",props:{id:{required:!0,type:String,default:""},idModifiers:{},title:{required:!0,type:String,default:""},titleModifiers:{}},emits:["update:id","update:title"],setup(_){const e=x(_,"id"),n=x(_,"title"),{wishList:u,addToWishList:l,removeWishList:t}=W(),s=h(()=>u.value.includes(e.value)),o=h(()=>s.value?["fas","heart"]:["far","heart"]),{addToCart:v}=z(),a=B(!1),k=async({qty:U,product_id:f})=>{a.value=!0,await v({qty:U,product_id:f,mode:"add",title:n.value}),a.value=!1};return(U,f)=>{const $=P("font-awesome-icon");return i(),d("div",O,[r("button",{class:L({active:s.value}),type:"button",onClick:f[0]||(f[0]=M(N=>s.value?c(t)(e.value):c(l)(e.value),["stop"]))},[p($,{icon:o.value},null,8,["icon"])],2),r("button",{disabled:a.value,type:"button",onClick:f[1]||(f[1]=M(N=>{k({qty:1,product_id:e.value})},["stop"]))},[a.value?(i(),w($,{key:0,icon:["fas","spinner"],"spin-pulse":""})):(i(),w($,{key:1,icon:["fas","basket-shopping"]}))],8,Q)])}}}),G={class:"productList_block"},X={class:"productList_card"},Y={class:"productList_card_img"},Z={class:"productList_card_price"},tt={class:"price-origin"},et={class:"price-special"},st=g({__name:"List",setup(_){const{filterProductList:e}=b();return(n,u)=>{const l=P("router-link");return i(),d("div",G,[(i(!0),d(y,null,C(c(e),t=>(i(),d("div",{key:t.id,class:"productList_card_container"},[r("div",X,[r("div",Y,[p(l,{style:A({"background-image":`url(${t.imageUrl})`}),to:{name:"productPage",params:{id:t.id}}},null,8,["style","to"]),p(j,{id:t.id,"onUpdate:id":s=>t.id=s,title:t.title,"onUpdate:title":s=>t.title=s},null,8,["id","onUpdate:id","title","onUpdate:title"])]),r("div",null,[p(l,{to:{name:"productPage",params:{id:t.id}},class:"productList_card_title"},{default:D(()=>[T(m(t.title),1)]),_:2},1032,["to"]),r("div",Z,[r("span",tt,m(t.origin_price),1),r("span",et,m(n.$t("common.dollar",{price:t.price})),1)])])])]))),128))])}}}),ot={class:"productList_filter"},it=["placeholder"],at=g({__name:"Filter",setup(_){const{keyword:e,sortPrice:n,changeSortPrice:u,setFinalKeyword:l}=b(),t=h(()=>[{visible:n.value==="inactive"||n.value==="lowToHigh",icon:["fas","up-long"]},{visible:n.value==="inactive"||n.value==="highToLow",icon:["fas","down-long"]}]);return(s,o)=>{const v=P("font-awesome-icon");return i(),d("div",ot,[S(r("input",{placeholder:`${s.$t("productList.searchPlaceHolder")}`,"onUpdate:modelValue":o[0]||(o[0]=a=>F(e)?e.value=a:null),type:"text",onInput:o[1]||(o[1]=(...a)=>c(l)&&c(l)(...a))},null,40,it),[[H,c(e)]]),r("button",{type:"button",class:"btn btn-outline",onClick:o[2]||(o[2]=a=>c(u)())},[T(m(s.$t("productList.sortPrice"))+" ",1),(i(!0),d(y,null,C(t.value,(a,k)=>S((i(),w(v,{key:k,icon:a.icon},null,8,["icon"])),[[I,a.visible]])),128))])])}}}),nt={key:0,class:"productList_page"},lt={class:"productList_container"},pt=g({__name:"ProductList",setup(_){const{loading:e,getProductList:n,productList:u}=b(),l=B(!0);return K(async()=>{await n()}),(t,s)=>(i(),d(y,null,[p(V,{loading:c(e),"onUpdate:loading":s[0]||(s[0]=o=>F(e)?e.value=o:null),"full-page":l.value,"onUpdate:fullPage":s[1]||(s[1]=o=>l.value=o)},null,8,["loading","full-page"]),c(u).length?(i(),d("div",nt,[p(J),r("div",lt,[p(at),p(st)])])):R("",!0)],64))}});export{pt as default};
