import{_ as S}from"./Loading.vue_vue_type_style_index_0_lang-t9IYFqea.js";import{u as b,a as M}from"./useWishList-DoAeoX6o.js";import{d as h,x as N,f as g,o as e,c,q as i,F as k,m as C,H as L,u as l,t as m,I as V,r as W,j as T,k as p,J as P,K as y,L as z,s as F,E as x,M as H,N as U,O as q,G as D,b as E,z as I}from"./index-26mLxrEz.js";const R=["onClick"],j=h({__name:"Sidebar",setup(v){const{category:s,clickCategory:n}=b(),{isMobileWidth:r}=N(),a=g(()=>r.value?"productList_sidebar--mb":"productList_sidebar--pc");return(d,t)=>(e(),c("div",{class:L({productList_sidebar_container:l(r)})},[i("ul",{class:L(a.value)},[(e(!0),c(k,null,C(l(s),(u,o)=>(e(),c("li",{key:o,class:L({active:u.active}),onClick:f=>l(n)(o)},m(u.text),11,R))),128))],2)],2))}}),A={class:"productList_actionBtn"},G=["disabled"],J=h({__name:"ActionBtn",props:{id:{default:""}},setup(v){const s=v,{wishList:n,addToWishList:r,removeWishList:a}=M(),d=g(()=>n.value.includes(s.id)),t=g(()=>d.value?["fas","heart"]:["far","heart"]),{addToCart:u}=V(),o=W(!1),f=async({qty:w,product_id:_})=>{o.value=!0,await u({qty:w,product_id:_,mode:"add"}),o.value=!1};return(w,_)=>{const $=T("font-awesome-icon");return e(),c("div",A,[i("button",{class:L({active:d.value}),type:"button",onClick:_[0]||(_[0]=P(B=>d.value?l(a)(s.id):l(r)(s.id),["stop"]))},[p($,{icon:t.value},null,8,["icon"])],2),i("button",{disabled:o.value,type:"button",onClick:_[1]||(_[1]=P(B=>{f({qty:1,product_id:s.id})},["stop"]))},[o.value?(e(),y($,{key:0,icon:["fas","spinner"],"spin-pulse":""})):(e(),y($,{key:1,icon:["fas","basket-shopping"]}))],8,G)])}}}),K={class:"productList_block"},O=["onClick"],Q={class:"productList_card"},X={class:"productList_card_title"},Y={class:"productList_card_price"},Z={class:"price-origin"},tt={class:"price-special"},st=h({__name:"List",setup(v){const{filterProductList:s}=b(),n=z(),r=a=>{n.push({name:"productPage",params:{id:a}})};return(a,d)=>(e(),c("div",K,[(e(!0),c(k,null,C(l(s),t=>(e(),c("div",{key:t.id,class:"productList_card_container",onClick:u=>r(t.id)},[i("div",Q,[i("div",{style:F({"background-image":`url(${t.imageUrl})`}),class:"productList_card_img"},[p(J,{id:t.id},null,8,["id"])],4),i("div",null,[i("div",X,m(t.title),1),i("div",Y,[i("span",Z,m(a.$t("common.price",{price:t.origin_price})),1),i("span",tt,m(a.$t("common.dollar",{price:t.price})),1)])])])],8,O))),128))]))}}),et={class:"productList_filter"},ot=["placeholder"],it=h({__name:"Filter",setup(v){const{keyword:s,sortPrice:n,changeSortPrice:r}=b(),a=g(()=>[{visible:n.value==="inactive"||n.value==="lowToHigh",icon:["fas","up-long"]},{visible:n.value==="inactive"||n.value==="highToLow",icon:["fas","down-long"]}]);return(d,t)=>{const u=T("font-awesome-icon");return e(),c("div",et,[x(i("input",{placeholder:`${d.$t("productList.searchPlaceHolder")}`,"onUpdate:modelValue":t[0]||(t[0]=o=>U(s)?s.value=o:null),type:"text"},null,8,ot),[[H,l(s)]]),i("button",{type:"button",class:"btn btn-outline",onClick:t[1]||(t[1]=o=>l(r)())},[q(m(d.$t("productList.sortPrice"))+" ",1),(e(!0),c(k,null,C(a.value,(o,f)=>x((e(),y(u,{key:f,icon:o.icon},null,8,["icon"])),[[D,o.visible]])),128))])])}}}),nt={key:0,class:"productList_page"},at={class:"productList_container"},dt=h({__name:"ProductList",setup(v){const{loading:s,getProductList:n,productList:r}=b();return E(async()=>{await n()}),(a,d)=>(e(),c(k,null,[p(S,{loading:l(s),"full-page":""},null,8,["loading"]),l(r).length?(e(),c("div",nt,[p(j),i("div",at,[p(it),p(st)])])):I("",!0)],64))}});export{dt as default};
