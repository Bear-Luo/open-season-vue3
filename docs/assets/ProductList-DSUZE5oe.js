import{_ as V}from"./Loading.vue_vue_type_style_index_0_lang-Bho9Zs6C.js";import{u as b,a as W}from"./useWishList-BU8MOFlq.js";import{d as g,z as q,f as L,o as s,c as l,q as o,F as k,m as C,J as h,u,t as m,y as P,K as F,r as z,j as x,k as f,L as U,M as $,N as H,s as D,H as M,O as I,P as B,Q as R,I as j,b as A,B as E}from"./index-BamSWWtl.js";const J=["onClick"],K=g({__name:"Sidebar",setup(_){const{category:e,clickCategory:i}=b(),{isMobileWidth:c}=q(),r=L(()=>c.value?"productList_sidebar--mb":"productList_sidebar--pc");return(n,t)=>(s(),l("div",{class:h({productList_sidebar_container:u(c)})},[o("ul",{class:h(r.value)},[(s(!0),l(k,null,C(u(e),(a,d)=>(s(),l("li",{key:d,class:h({active:a.active}),onClick:p=>u(i)(d)},m(a.text),11,J))),128))],2)],2))}}),O={class:"productList_actionBtn"},Q=["disabled"],G=g({__name:"ActionBtn",props:{id:{required:!0,type:String,default:""},idModifiers:{},title:{required:!0,type:String,default:""},titleModifiers:{}},emits:["update:id","update:title"],setup(_){const e=P(_,"id"),i=P(_,"title"),{wishList:c,addToWishList:r,removeWishList:n}=W(),t=L(()=>c.value.includes(e.value)),a=L(()=>t.value?["fas","heart"]:["far","heart"]),{addToCart:d}=F(),p=z(!1),T=async({qty:w,product_id:v})=>{p.value=!0,await d({qty:w,product_id:v,mode:"add",title:i.value}),p.value=!1};return(w,v)=>{const y=x("font-awesome-icon");return s(),l("div",O,[o("button",{class:h({active:t.value}),type:"button",onClick:v[0]||(v[0]=U(N=>t.value?u(n)(e.value):u(r)(e.value),["stop"]))},[f(y,{icon:a.value},null,8,["icon"])],2),o("button",{disabled:p.value,type:"button",onClick:v[1]||(v[1]=U(N=>{T({qty:1,product_id:e.value})},["stop"]))},[p.value?(s(),$(y,{key:0,icon:["fas","spinner"],"spin-pulse":""})):(s(),$(y,{key:1,icon:["fas","basket-shopping"]}))],8,Q)])}}}),X={class:"productList_block"},Y=["onClick"],Z={class:"productList_card"},tt={class:"productList_card_title"},et={class:"productList_card_price"},st={class:"price-origin"},ot={class:"price-special"},it=g({__name:"List",setup(_){const{filterProductList:e}=b(),i=H(),c=r=>{i.push({name:"productPage",params:{id:r}})};return(r,n)=>(s(),l("div",X,[(s(!0),l(k,null,C(u(e),t=>(s(),l("div",{key:t.id,class:"productList_card_container",onClick:a=>c(t.id)},[o("div",Z,[o("div",{style:D({"background-image":`url(${t.imageUrl})`}),class:"productList_card_img"},[f(G,{id:t.id,"onUpdate:id":a=>t.id=a,title:t.title,"onUpdate:title":a=>t.title=a},null,8,["id","onUpdate:id","title","onUpdate:title"])],4),o("div",null,[o("div",tt,m(t.title),1),o("div",et,[o("span",st,m(t.origin_price),1),o("span",ot,m(r.$t("common.dollar",{price:t.price})),1)])])])],8,Y))),128))]))}}),nt={class:"productList_filter"},at=["placeholder"],lt=g({__name:"Filter",setup(_){const{keyword:e,sortPrice:i,changeSortPrice:c}=b(),r=L(()=>[{visible:i.value==="inactive"||i.value==="lowToHigh",icon:["fas","up-long"]},{visible:i.value==="inactive"||i.value==="highToLow",icon:["fas","down-long"]}]);return(n,t)=>{const a=x("font-awesome-icon");return s(),l("div",nt,[M(o("input",{placeholder:`${n.$t("productList.searchPlaceHolder")}`,"onUpdate:modelValue":t[0]||(t[0]=d=>B(e)?e.value=d:null),type:"text"},null,8,at),[[I,u(e)]]),o("button",{type:"button",class:"btn btn-outline",onClick:t[1]||(t[1]=d=>u(c)())},[R(m(n.$t("productList.sortPrice"))+" ",1),(s(!0),l(k,null,C(r.value,(d,p)=>M((s(),$(a,{key:p,icon:d.icon},null,8,["icon"])),[[j,d.visible]])),128))])])}}}),ct={key:0,class:"productList_page"},rt={class:"productList_container"},S=!0,_t=g({__name:"ProductList",setup(_){const{loading:e,getProductList:i,productList:c}=b();return A(async()=>{await i()}),(r,n)=>(s(),l(k,null,[f(V,{loading:u(e),"onUpdate:loading":n[0]||(n[0]=t=>B(e)?e.value=t:null),"full-page":S,"onUpdate:fullPage":n[1]||(n[1]=t=>S=t)},null,8,["loading"]),u(c).length?(s(),l("div",ct,[f(K),o("div",rt,[f(lt),f(it)])])):E("",!0)],64))}});export{_t as default};
