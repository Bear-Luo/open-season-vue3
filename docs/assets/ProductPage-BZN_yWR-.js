import{_ as N}from"./Loading.vue_vue_type_style_index_0_lang-DDOOpT7P.js";import{d as y,f as b,I,r as f,j as k,o as c,c as d,E as w,P as C,q as t,F as A,m as L,t as n,u as i,k as m,O as Z,K as E,l as Q,s as z,b as D,Q as W}from"./index-DRmDKcVA.js";import{a as G,u as M}from"./useWishList-Bj4Jt2IX.js";const S="data:image/gif;base64,R0lGODlhKAAkAIAAAP///wAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OERDRTZEMEVBRDMwMTFFQUE5QzZFRUEzMkZCMEQwRUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OERDRTZEMEZBRDMwMTFFQUE5QzZFRUEzMkZCMEQwRUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4RENFNkQwQ0FEMzAxMUVBQTlDNkVFQTMyRkIwRDBFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4RENFNkQwREFEMzAxMUVBQTlDNkVFQTMyRkIwRDBFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAAALAAAAAAoACQAAAIlhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jedNAQA7",U={class:"productPage_actionBlock"},B=["value"],T=y({__name:"ActionBtn",props:{id:String,unit:String},setup(P){const a=P,{wishList:e,addToWishList:p,removeWishList:g}=G(),o=b(()=>e.value.includes(a.id)),r=b(()=>o.value?["fas","heart"]:["far","heart"]),{addToCart:_,useCartLoading:h}=I(),s=f(1);return(v,u)=>{const R=k("font-awesome-icon");return c(),d("div",U,[w(t("select",{"onUpdate:modelValue":u[0]||(u[0]=l=>s.value=l)},[(c(),d(A,null,L(10,l=>t("option",{key:l,value:l},n(v.$t("productPage.select",{value:l})+a.unit),9,B)),64))],512),[[C,s.value]]),t("div",null,[t("button",{type:"button",class:"btn btn-danger btn-outline",onClick:u[1]||(u[1]=l=>o.value?i(g)(`${a.id}`):i(p)(`${a.id}`))},[m(R,{icon:r.value},null,8,["icon"]),Z(" "+n(v.$t("productPage.addToWishList")),1)]),t("button",{type:"button",class:"btn btn-success btn-outline",onClick:u[2]||(u[2]=l=>i(_)({qty:s.value,product_id:`${a.id}`,mode:"add"}))},[i(h)?(c(),E(R,{key:0,icon:["fas","spinner"],"spin-pulse":""})):(c(),E(R,{key:1,icon:["fas","basket-shopping"]})),Z(" "+n(v.$t("productPage.addToCart")),1)])])])}}}),F={class:"container productPage"},V={class:"productPage_info"},j=["src"],$={class:"productPage_info_main"},H={class:"productPage_info_title"},J={class:"productPage_info_content"},O={class:"productPage_price"},Y={class:"price-origin"},X={class:"price-special"},x={class:"productPage_title"},q=["innerHTML"],K={class:"productPage_title"},tt={class:"productPage_similarList"},et=t("img",{src:S},null,-1),it=y({__name:"Index",setup(P){const{productList:a,productPageData:e,getProduct:p}=M(),g=b(()=>a.value.filter(o=>{var r;return o.category===((r=e.value)==null?void 0:r.category)&&o.id!==e.value.id}));return(o,r)=>{const _=k("font-awesome-icon"),h=k("router-link");return c(),d("div",F,[t("div",V,[t("img",{src:i(e).imageUrl},null,8,j),t("div",$,[t("div",H,n(i(e).title),1),t("div",J,[t("div",null,n(i(e).description),1),t("div",null,n(i(e).content),1)]),t("div",O,[t("div",Y,n(o.$t("common.originalPrice",{price:i(e).origin_price})),1),t("div",X,n(o.$t("common.specialPrice",{price:i(e).price})),1)]),m(T,{id:i(e).id,unit:i(e).unit},null,8,["id","unit"])])]),t("div",x,[t("span",null,n(o.$t("productPage.qa")),1)]),(c(),d(A,null,L(3,s=>t("div",{key:s,class:"productPage_qa"},[m(_,{icon:["far","question-circle"]}),t("div",{innerHTML:o.$t(`productPage.qa-${s}`)},null,8,q)])),64)),t("div",K,[t("span",null,n(o.$t("productPage.similar")),1)]),t("div",tt,[(c(!0),d(A,null,L(g.value,s=>(c(),E(h,{key:s.id,to:{name:"productPage",params:{id:s.id}},onClick:v=>i(p)(s.id)},{default:Q(()=>[t("div",{style:z(`background-image: url(${s.imageUrl})`),class:"productPage_similarList_img"},[et,t("div",null,n(s.title),1)],4)]),_:2},1032,["to","onClick"]))),128))])])}}}),at=y({__name:"ProductPage",setup(P){const a=W(),{productPageLoading:e,getProduct:p,getProductList:g}=M(),{getCart:o}=I();return D(async()=>{await p(`${a.params.id}`),await o(),await g()}),(r,_)=>(c(),d(A,null,[m(N,{loading:i(e),"full-page":""},null,8,["loading"]),m(it)],64))}});export{at as default};
